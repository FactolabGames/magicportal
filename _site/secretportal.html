<!DOCTYPE html>
<html lang="fr">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Magic Portal</title>
    <meta name="generator" content="Jekyll v4.3.2" />

    <meta property="og:locale" content="fr_FR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Magic Portal">
    <meta property="og:description" content="">
    <meta property="og:url" content="http://localhost:4000/secretportal.html">
    <meta property="og:site_name" content="Magic Portal">

    <meta name="google-site-verification" content="" />

    <link rel="canonical" href="http://localhost:4000">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://localhost:4000/Assets/css/main.min.css">
    <link href='https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
    <style>
    .navigation-wrapper {
        background: #212f3c;
        color: white;
        box-shadow: 0px 0px 0px black;
    }

    .nav-icon {
        height: auto;
        max-width: 100px;
        margin-top:0;
        margin-left:10px;
        margin-right:25px;
    }

    .equipment {
        margin: 25px;
    }

    .key {
        margin: 25px;
    }

    .image-blason {
        height: auto;
        max-width: 300px;
        margin: 25px;
    }

    .text-blason {
        width:300px;
    }

    .container-blason {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .page {
        text-align: center;
    }

    #main {
        text-align: center;
    }

    .main {
        text-align: center;
        margin-left:150px;
        margin-right: 100px;
    }

    .radio-label {
        display: inline-block;
    }

    .question {
          font-weight: bold;
    }

    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      padding-bottom:15px;
      padding-top:15px;
      width: 100%;
      color: white;
      text-align: center;
    }

    .button {
          border: none;
          color: white;
          padding: 3px 10px;
          margin: 10px 10px 0px 0px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 25px;
          font-weight: bold;
          border-radius: 10px;
          box-shadow: 2px 2px 2px black;
          transition-duration: 0.4s;
          position: relative;
    }

    .button:after {
      content: "";
      display: block;
      position: absolute;
      border-radius: 10px;
      left: 0;
      top:0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: all 0.5s;
      box-shadow: 2px 2px 10px 15px black;
    }

    .button:active:after {
      box-shadow: 2px 2px 2px black;
      position: absolute;
      border-radius: 10px;
      left: 0;
      top:0;
      opacity: 1;
      transition: 0s;
    }

    button:disabled, button[disabled] {
        color: grey !important;
    }

    [hidden] {
        display: none !important;
    }

    .conversation {
        position: relative;

        display: flex;
        flex-direction: column;
        justify-content: space-between;
        box-sizing: border-box;
        border-radius: 1rem;
        margin-left: 64px;
    }

    .conv-date {
        align-self: center;
    }

    .conv-message {
        color: white;
        box-sizing: border-box;
        padding: 0.5rem 1rem;
        margin: 1rem;
        border-radius: 10px;
        min-height: 2.25rem;
        width: fit-content;
        background: black;
    }

    .conv-message.my-message {
        background: #45b39d;
        align-self: flex-end;
    }


</style>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

</head>

    <div class="navigation-wrapper" style=" background: black; ">

	<div class="site-name" style="font-size:40px; width: 100%; display: flex; align-items: center; justify-content: left; margin: 0; padding:0;">
		<a href="http://localhost:4000"><img class="nav-icon" src="http://localhost:4000/Assets/Images/Blason-poudlard.png"></a>
		Portail magique de l'école de sorcellerie Poudlard
		<div style="margin-left:auto;">
			<a href="http://localhost:4000/gryffondor"><img class="nav-icon" src="http://localhost:4000/Assets/Images/Blason-gryffondor.png"></a>
			<a href="http://localhost:4000/serpentard"><img class="nav-icon" src="http://localhost:4000/Assets/Images/Blason-serpentard.png"></a>
			<a href="http://localhost:4000/poufsouffle"><img class="nav-icon" src="http://localhost:4000/Assets/Images/Blason-poufsouffle.png"></a>
			<a href="http://localhost:4000/serdaigle"><img class="nav-icon" src="http://localhost:4000/Assets/Images/Blason-serdaigle.png"></a>
		</div>
	</div><!-- /.site-name -->

	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


    <div class="main">
        <h1>Portail secret des quatre maisons.</h1>


        <div id="div-portal">
            </br></br>

<!--            <div class="scene" style="display: flex; align-items: center; justify-content: center;">-->
<!--                <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/closed_portal.png" >-->
<!--                <div style="display: inline-block; width:1024px; height:512px; position:relative;">-->
<!--                    <div id="div-access">-->
<!--                        <h3>Le portail secret est protégé par la plus sombre des magies : un code d'accès.</h3>-->
<!--                        <input id="secret-input" style="width: 150px;" type="text"  maxlength="10" placeholder="Code d'accès">-->
<!--                        <a style="background: black; color: white;" id="secret-button" class="button">Valider</a>-->
<!--                        <div id="access-output"> </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

            
                <div id ="scene-ClosedPortal" class="scene" style="display: flex; align-items: center; justify-content: center;"  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/closed_portal.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Le portail secret est protégé par la plus sombre des magies : un code d'accès.</h3>

                        
                            <input id="secret-input" style="width: 150px;" type="text"  maxlength="10" placeholder="Code d'accès">
                            <a style="background: black; color: white;" id="secret-button" class="button">Valider</a>
                            <div id="access-output"> </div>
                        

                        

                        

                    </div>

                </div>

                <div id="choices-ClosedPortal"  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-ClosedPortal-0" disabled="True">Continuer</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-OpenPortal" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/opened_portal.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Le portail est désormais ouvert. Une voix retentit :</br></br>"Bonjour, si tu es parvenu jusqu'ici, tu dois être l'élu. Je suis l'âme du portail, les fondateurs de Poudlard m'ont donné pour mission de t'aider dans ta quête. Pour cela, je vais t'indiquer comment desceller le trésor des quatre maisons et ainsi accéder à la relique. Il te faudra tout d'abord atteindre une certaine maturité afin d'endosser cette responsabilité, je sens que tu es sur la bonne voie. Ensuite, il te faudra récupérer les clés de chacune des maisons, celles-ci sont transmises de génération en génération aux préfets des maisons. Enfin, les clés devront être fusionnées dans la salle de fusion, permettant ainsi d'ouvrir le trésor des quatre maisons. On dirait que tu as du pain sur la planche ! <br/> Ah oui, une dernière information, sans la pierre de téléportation, mes capacités de transport sont quelques peu... aléatoires"</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-OpenPortal"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="AssemblyRoom" style="background: black; color: white;" class="button choice-button" id="button-choice-OpenPortal-0" hidden>Salle d'assemblage</button>
                        
                    
                        
                        
                        <button type="button" next_scene="SlytherinCorridor" style="background: black; color: white;" class="button choice-button" id="button-choice-OpenPortal-1" hidden>Aile des Serpentards</button>
                        
                    
                        
                        
                        <button type="button" next_scene="StoneCave" style="background: black; color: white;" class="button choice-button" id="button-choice-OpenPortal-2" hidden>Grotte mystérieuse</button>
                        
                    
                        
                        
                        <button type="button" next_scene="Random" style="background: black; color: white;" class="button choice-button" id="button-choice-OpenPortal-3" >Entrer dans le portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-StoneCave" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/stone_cave.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Tu mets les pieds dans une grotte très mystérieuse.</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-StoneCave"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="CaveEnigma" style="background: black; color: white;" class="button choice-button" id="button-choice-StoneCave-0" >Avancer</button>
                        
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-StoneCave-1" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-CaveEnigma" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> <div id='enigma-begin'>Oh, toi, jeune sorcier qui t’aventures dans l’antre du pic du Cône Henri, si tu veux pouvoir continuer ton chemin, tu n’as pas d’autres choix que de répondre à mes énigmes , et, qui sait, peut-être que toi, toi, toi, toi, toi, sous tes airs de oui, oui, oui, oui, oui et bien t’inquiètes hein…, tu pourrais découvrir quelque chose d’utile : </div> <br/><br/> <div id='enigma-body'> 1ère énigme : <br/><br/>Quatre mètres de haut <br/>Cauchemar des toilettes et des baguettes <br/>Le t-t-tturban l’invita à entrer <br/>Wingardium Leviosa (et pas Levioooosar !) en sera la clé <br/><br/>Qui suis-je ? </div></h3>

                        

                        

                        
                        <div id="div-enigma" number="1">
                             <input id="enigma-answer" style="width: 150px;" type="text"  maxlength="20" placeholder="Réponse">
                            <a style="background: white; color: black; font-size: 20px; margin:0;" id="enigma-button" class="button">✔</a>
                        </div>

                        

                    </div>

                </div>

                <div id="choices-CaveEnigma"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="StonePrice" style="background: black; color: white;" class="button choice-button" id="button-choice-CaveEnigma-0" hidden>Avancer</button>
                        
                    
                        
                        
                        <button type="button" next_scene="StoneCave" style="background: black; color: white;" class="button choice-button" id="button-choice-CaveEnigma-1" >Fuir</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-StonePrice" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/stone.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Tu récupères la pierre de téléportation (A164)</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-StonePrice"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-StonePrice-0" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-AssemblyRoom" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/merge_room.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Tu pénètres dans la salle d'assemblage.</br> Il semblerait qu'il y ait quatre emplacements.</h3>

                        

                        
                        <div id="div-keys">
                            <span id="div-key-gryffindor" class="key">
                                <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                            </span>
                            <span id="div-key-slytherin" class="key" >
                                <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;" >
                            </span>
                            </br>
                            </br>
                            <span id="div-key-hufflepuff" class="key">
                                <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                            </span>
                            <span id="div-key-ravenclaw" class="key">
                                <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                            </span>

                        </div>
                        

                        

                    </div>

                </div>

                <div id="choices-AssemblyRoom"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="MergedKey" style="background: black; color: white;" class="button choice-button" id="button-choice-AssemblyRoom-0" hidden>Continuer</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-MergedKey" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/merged_key.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Le sortilège d'assemblage a fonctionné !</br></br> Tu es désormais en possession de la clé des quatre maisons.</br>Une inscription est gravée sur la clé: 0000.</br></br> Il ne te reste désormais plus qu'à localiser le trésor et mettre la main sur la relique.</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-MergedKey"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                    
                </div>

            
                <div id ="scene-SlytherinCorridor" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/slytherin_corridor.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Serait-ce l'aile de Poudlard réservée aux Serpentard ?</br></br> Impossible de poursuivre sans être repéré...</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-SlytherinCorridor"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="SlytherinDoor" style="background: black; color: white;" class="button choice-button" id="button-choice-SlytherinCorridor-0" hidden>Mettre la cape et avancer discrètement</button>
                        
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-SlytherinCorridor-1" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-SlytherinDoor" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/slytherin_door.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Tu arrives devant le quartier général des Serpentards. </br></br> La porte semble fermée...</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-SlytherinDoor"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="SlytherinRoom" style="background: black; color: white;" class="button choice-button" id="button-choice-SlytherinDoor-0" hidden>Entrer</button>
                        
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-SlytherinDoor-1" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-SlytherinRoom" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/slytherin_headquarters.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> Te voici dans le quartier général des serpentards, la prudence est de mise.</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-SlytherinRoom"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                    
                </div>

            
                <div id ="scene-VaultDoor" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/vault_door.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> La nature a reprit ses droits depuis bien longtemps par ici. Impossible d'entrer avec toute cette végétation.</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-VaultDoor"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="VaultRoom" style="background: black; color: white;" class="button choice-button" id="button-choice-VaultDoor-0" hidden>Entrer</button>
                        
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-VaultDoor-1" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            
                <div id ="scene-VaultRoom" class="scene" style="display: flex; align-items: center; justify-content: center;"  hidden  >
                    <img style="border-radius: 30px; max-width=40%; height:auto;" width="512px" height="512px" src="http://localhost:4000/Assets/Images/secret_portal/vault_room.png">
                    <div style="display: inline-block; width:1024px; height:512px; position:relative; margin-left:25px;">
                        <h3> La pièce est remplie d'ouvrages littéraire, comment peut-on s'y retrouver là-dedans ? <br/> Vous fouillez avec attention le tas de feuilles disposé sur le bureau. Certaines d'entre elles attirent votre attention.<br/><br/> [Prendre la chemise rouge]</h3>

                        

                        

                        

                    </div>

                </div>

                <div id="choices-VaultRoom"  hidden  class="choices">
                    </br></br>
                    
                        
                        
                        <button type="button" next_scene="OpenPortal" style="background: black; color: white;" class="button choice-button" id="button-choice-VaultRoom-0" >Retourner au portail</button>
                        
                    
                        
                        
                    
                </div>

            

            </br></br>

            <div id="div-equipment">
                
                
                <span id="div-stone" class="equipment">
                    <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                </span>
                
                <span id="div-wand" class="equipment">
                    <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                </span>
                
                <span id="div-cape" class="equipment">
                    <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                </span>
                
                <span id="div-potion" class="equipment">
                    <img width="128px" height="128px" style="border: 2px dashed #555; border-radius: 10px;">
                </span>
                

            </div>
        </div>




    </div>


    
<div style="height:100px;"></div>
<footer class="footer" style=" background: black; ">
    <input id="footer-input" style="width: 200px;" type="text"  maxlength="20" placeholder="Utiliser un sortilège">
    <a style="background: white; color: black; font-size: 20px; margin:0;" id="footer-button" class="button">✔</a>
    <div id="footer-output" style="width: 100%;"> </div>
</footer>

<script type="text/javascript">
    $(document).ready(function(){

        var all_sort_codes = [];
        var all_sort_keys = [];
        var all_sorts = [];

        
            all_sorts.push("Revelio");
            all_sort_codes.push("S1648");
            all_sort_keys.push("revelio");
        
            all_sorts.push("Incendio");
            all_sort_codes.push("S8564");
            all_sort_keys.push("incendio");
        
            all_sorts.push("Allohomora");
            all_sort_codes.push("S8251");
            all_sort_keys.push("allohomora");
        
            all_sorts.push("Lumos");
            all_sort_codes.push("S2431");
            all_sort_keys.push("lumos");
        
            all_sorts.push("Reparo");
            all_sort_codes.push("");
            all_sort_keys.push("reparo");
        
            all_sorts.push("Protego");
            all_sort_codes.push("");
            all_sort_keys.push("protego");
        
            all_sorts.push("Petrificus totalus");
            all_sort_codes.push("S9988");
            all_sort_keys.push("petrificus");
        
            all_sorts.push("Domus clavis fusione");
            all_sort_codes.push("S5000");
            all_sort_keys.push("fusion");
        
            all_sorts.push("Accio \"Clé de Gryffondor\"");
            all_sort_codes.push("A594");
            all_sort_keys.push("key-gryffindor");
        
            all_sorts.push("Accio \"Clé de Serpentard\"");
            all_sort_codes.push("A208");
            all_sort_keys.push("key-slytherin");
        
            all_sorts.push("Accio \"Clé de Serdaigle\"");
            all_sort_codes.push("A617");
            all_sort_keys.push("key-ravenclaw");
        
            all_sorts.push("Accio \"Clé de Poufsouffle\"");
            all_sort_codes.push("9813");
            all_sort_keys.push("key-hufflepuff");
        
            all_sorts.push("Accio \"Pierre de téléportation\"");
            all_sort_codes.push("A164");
            all_sort_keys.push("stone");
        
            all_sorts.push("Accio \"Baguette magique\"");
            all_sort_codes.push("A949");
            all_sort_keys.push("wand");
        
            all_sorts.push("Accio \"Cape d'invisibilité\"");
            all_sort_codes.push("A167");
            all_sort_keys.push("cape");
        
            all_sorts.push("Accio \"Potion\"");
            all_sort_codes.push("A822");
            all_sort_keys.push("potion");
        

        var indices = {};
        for(const key of all_sort_keys){
            indices[key] = $.inArray(key, all_sort_keys);
        }

        function write_footer(text, t){
            if (t == 0){
                $('#footer-button').hide();
                $('#footer-output').html("");
            }

            if (t < text.length) {
                $('#footer-output').html($('#footer-output').text() + text.charAt(t));
                setTimeout(write_footer, 75, text, t+1);
            }
            else
                $('#footer-button').show();
        }

        function append_footer(text, t){
            if (t == 0){
                var init_text = $('#footer-output').text();
                text = init_text + text;
                t = init_text.length;
            }

            if (t < text.length) {
                $('#footer-output').html($('#footer-output').text() + text.charAt(t));
                setTimeout(write_footer, 75, text, t+1);
            }
            else
                $('#footer-button').show();
        }

        $('#footer-button').click(function(){
                var input = $('#footer-input').val();

                var index = $.inArray(input, all_sort_codes);
                if ($.inArray(input, all_sort_codes) == -1)
                    write_footer("Ce sort n'existe pas.", 0);
                else {
                    write_footer(all_sorts[index] + " !", 0);

                    if (index == indices["revelio"] && "secretportal" == "home")
                        $('#div-link').css("visibility", "visible");

<!--                    Equipment -->
                    
                    
                    else if (index == indices["cape"] && "secretportal" == "secretportal"){
                        $('#div-cape').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/cape.png");
                        $('#div-cape').find("img").css("border-style", "solid");
                        $(document).trigger('cape-trigger');
                    }
                    
                    else if (index == indices["wand"] && "secretportal" == "secretportal"){
                        $('#div-wand').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/magic_wand.png");
                        $('#div-wand').find("img").css("border-style", "solid");
                        $(document).trigger('wand-trigger');
                    }
                    
                    else if (index == indices["stone"] && "secretportal" == "secretportal"){
                        $('#div-stone').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/stone.png");
                        $('#div-stone').find("img").css("border-style", "solid");
                        $(document).trigger('stone-trigger');
                    }
                    
                    else if (index == indices["potion"] && "secretportal" == "secretportal"){
                        $('#div-potion').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/potion.png");
                        $('#div-potion').find("img").css("border-style", "solid");
                        $(document).trigger('potion-trigger');
                    }
                    


<!--                    Keys -->
                    
                    
                    else if (index == indices["key-slytherin"] && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-AssemblyRoom"){
                        $('#div-key-slytherin').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/slytherin_key.png");
                        $('#div-key-slytherin').find("img").css("border-style", "solid");
                        $(document).trigger('key-trigger');
                    }
                    
                    else if (index == indices["key-gryffindor"] && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-AssemblyRoom"){
                        $('#div-key-gryffindor').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/gryffindor_key.png");
                        $('#div-key-gryffindor').find("img").css("border-style", "solid");
                        $(document).trigger('key-trigger');
                    }
                    
                    else if (index == indices["key-hufflepuff"] && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-AssemblyRoom"){
                        $('#div-key-hufflepuff').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/hufflepuff_key.png");
                        $('#div-key-hufflepuff').find("img").css("border-style", "solid");
                        $(document).trigger('key-trigger');
                    }
                    
                    else if (index == indices["key-ravenclaw"] && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-AssemblyRoom"){
                        $('#div-key-ravenclaw').find("img").attr("src", "http://localhost:4000/Assets/Images/secret_portal/ravenclaw_key.png");
                        $('#div-key-ravenclaw').find("img").css("border-style", "solid");
                        $(document).trigger('key-trigger');
                    }
                    
                    else if (index == indices["fusion"] && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-AssemblyRoom"){
                        $(document).trigger('key-fusion');
                    }


                    else if (index == indices["allohomora"]  && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-SlytherinDoor"){
                        $(document).trigger('allohomora');
                    }

                    else if (index == indices["incendio"]  && "secretportal" == "secretportal" && $(".scene:visible").attr('id') == "scene-VaultDoor"){
                        $(document).trigger('incendio');
                    }

                    else {
                        setTimeout(append_footer, 3000, " Il ne se passe rien...", 0);
                    }
                }


         });

    });
</script>

    <script type="text/javascript">
        $(document).ready(function(){
            var choice_random = ["SlytherinCorridor", "StoneCave"];
            var count = 0;
            var wrong_text = "Code d'accès incorrect.";
            var correct_text = "Code d'accès valide.";
            var delay = 75;

            function write(text, t, where, button){
                if (t == 0){
                    $(button).off('click');
                    $(where).html("");
                }

                if (t < text.length) {
                    $(where).html($(where).text() + text.charAt(t));
                    setTimeout(write, delay, text, t+1, where, button);
                }
                else {
                     $(button).on('click', check_access);
                }
            }

            function access_success(){
                write(correct_text , 0, '#access-output', '#secret-button');
                $('#div-access').delay(1500).fadeOut();
                $('.choice-button:visible').removeAttr("disabled");
            }

            function access_fail(){
                 write(wrong_text, 0, '#access-output', '#secret-button');
            }

            function check_access(){
                var code = $('#secret-input').val();
                if (code == "9813")
                    access_success();
                else
                    access_fail();
            }

            function load_scene(next_scene_name){
                $('div.scene:visible').hide();
                $('div.choices:visible').hide();
                next_scene = $('#scene-'+next_scene_name);
                next_scene.removeAttr("hidden");
                next_scene.show();
                $('#choices-'+next_scene_name).removeAttr("hidden").show();
            }

            function check_keys(){
                var gr = $("#div-key-gryffindor").find("img").attr("src");
                var sl = $("#div-key-slytherin").find("img").attr("src");
                var ra = $("#div-key-ravenclaw").find("img").attr("src");
                var hu = $("#div-key-hufflepuff").find("img").attr("src");
                return (gr && sl && ra && hu)
            }

            $('#secret-button').click(check_access);

            $('.choice-button').click(function(){
                var next_scene_name = $(this).attr("next_scene");
                if (next_scene_name == "Random"){
                    next_scene_name = choice_random[(Math.floor(Math.random() * choice_random.length))];
                }
                load_scene(next_scene_name);
            });

            $('#enigma-button').click(function(){
                var answer = $("#enigma-answer").val().toLowerCase().replaceAll(' ', '');
                var num = $("#div-enigma").attr("number");
                if (num == "1" && answer == "troll"){
                    $("#enigma-begin").html("Intéressant, tu connais donc Kubart, le troll des cachots de Poudlard, voyons voir comment tu t'en sors avec la prochaine enigme.");
                    $("#enigma-body").html("2ème énigme : <br/><br/>Mauvais présage inondé <br/>Une partie de Sirius Black le connaît <br/>Un destin funeste attend celui à qui il est annoncé <br/><br/>Qui suis-je ? ");
                    $("#div-enigma").attr("number", 2);
                }
                else if (num == "2" && answer == "sinistros"){
                    $("#enigma-begin").html("Formidable, forbidable, quel vivacité d'esprit ! Passons aux choses sérieuse avec la dernière énigme.");
                    $("#enigma-body").html(" 3ème énigme<br/><br/> Cadeau offert par un ancêtre <br/>Volé par un serpent volant <br/>Trésor des oubliettes <br/>L’amnésie lui fait voir rouge <br/><br/>Qui suis-je ? ");
                    $("#div-enigma").attr("number", 3);
                }
                else if (num == "3" && (answer == "rappeltout" || answer == "rapeltout")){
                    $("#enigma-begin").html("Toutes mes félicitations jeune sorcier, tu peux passer sans crainte.");
                    $("#enigma-body").hide();
                    $("#div-enigma").hide();
                    $("#button-choice-CaveEnigma-0").removeAttr("hidden").show();
                }
                else{
                    $("#enigma-begin").html("Faux, totalement faux ! Essaies encore...");
                }
            });

            $(document).on("key-fusion", function(){
                if (check_keys()){
                    $("#button-choice-AssemblyRoom-0").removeAttr("hidden").show();
                }
            });

            $(document).on("stone-trigger", function(){
                $("#choices-OpenPortal.choices").find("button").each(function(){
                    if ($(this).attr("next_scene") == "Random")
                        $(this).hide();
                    else
                        $(this).removeAttr("hidden").show();
                });
            });


            $(document).on("allohomora", function(){
                $("#scene-SlytherinDoor h3").html("La porte est dévérouillée");
                $("#button-choice-SlytherinDoor-0").removeAttr("hidden").show();
            });

            $(document).on("incendio", function(){
                $("#scene-SlytherinDoor h3").html("La végétation prend soudain feu. Vous patientez le temps qu'elle se consume... <br/><br/> Le chemin est désormais praticable !");
                $("#button-choice-SlytherinDoor-0").removeAttr("hidden").show();
            });

            $(document).on("cape-trigger", function(){
                $("#button-choice-SlytherinCorridor-0").removeAttr("hidden").show();
            });

        });
    </script>

</html>